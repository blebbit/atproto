export const spicedbSchema = `
//
// Caveats (CEL expressions)
//

// NSID filtering (think oauth permission sets and check)
// map  vs list: while specifying is more cumbersome,
// O(1) vs O(N) runtime performance is compelling
caveat nsids(allowed map<bool>, default bool, nsid string) {
  (nsid in allowed) ? allowed[nsid] : (default || false)
}

definition superuser {}

definition anon {}

definition acct {}

definition oauth {}

definition service {}

definition apikey {}

definition svcacct {}

definition space {
  // relations
  relation parent: space | bubble
  relation owner: acct | oauth | service | apikey | svcacct | space#member | bubble#member | group#member
  relation direct_member: acct | oauth | service | apikey | svcacct | space#member | bubble#member | group#member
  relation space_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation record_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids

  // permissions
  permission owners = owner + parent->owners
  permission member = owners + direct_member
  permission space_admin = owners + space_adminer + parent->space_admin
  permission space_edit = space_admin + space_editor + parent->space_edit
  permission space_view = space_admin + space_viewer + parent->space_view
  permission space_delete = space_admin + space_deleter + parent->space_delete
  permission space_update = space_edit + space_updater + parent->space_update
  permission space_create = space_edit + space_creator + parent->space_create
  permission space_list = space_view + space_lister + parent->space_list
  permission space_get = space_view + space_getter + parent->space_get
  permission bubble_admin = owners + bubble_adminer
  permission bubble_edit = bubble_admin + bubble_editor
  permission bubble_view = bubble_admin + bubble_viewer
  permission bubble_delete = bubble_admin + bubble_deleter
  permission bubble_update = bubble_edit + bubble_updater
  permission bubble_create = bubble_edit + bubble_creator
  permission bubble_list = bubble_view + bubble_lister
  permission bubble_get = bubble_view + bubble_getter
  permission group_admin = owners + group_adminer + parent->group_admin
  permission group_edit = group_admin + group_editor + parent->group_edit
  permission group_view = group_admin + group_viewer + parent->group_view
  permission group_delete = group_admin + group_deleter + parent->group_delete
  permission group_update = group_edit + group_updater + parent->group_update
  permission group_create = group_edit + group_creator + parent->group_create
  permission group_list = group_view + group_lister + parent->group_list
  permission group_get = group_view + group_getter + parent->group_get
  permission role_admin = owners + role_adminer + parent->role_admin
  permission role_edit = role_admin + role_editor + parent->role_edit
  permission role_view = role_admin + role_viewer + parent->role_view
  permission role_delete = role_admin + role_deleter + parent->role_delete
  permission role_update = role_edit + role_updater + parent->role_update
  permission role_create = role_edit + role_creator + parent->role_create
  permission role_list = role_view + role_lister + parent->role_list
  permission role_get = role_view + role_getter + parent->role_get
  permission record_admin = owners + record_adminer + parent->record_admin
  permission record_edit = record_admin + record_editor + parent->record_edit
  permission record_view = record_admin + record_viewer + parent->record_view
  permission record_delete = record_admin + record_deleter + parent->record_delete
  permission record_update = record_edit + record_updater + parent->record_update
  permission record_create = record_edit + record_creator + parent->record_create
  permission record_list = record_view + record_lister + parent->record_list
  permission record_get = record_view + record_getter + parent->record_get
  permission blob_admin = owners + blob_adminer + parent->blob_admin
  permission blob_edit = blob_admin + blob_editor + parent->blob_edit
  permission blob_view = blob_admin + blob_viewer + parent->blob_view
  permission blob_delete = blob_admin + blob_deleter + parent->blob_delete
  permission blob_update = blob_edit + blob_updater + parent->blob_update
  permission blob_create = blob_edit + blob_creator + parent->blob_create
  permission blob_list = blob_view + blob_lister + parent->blob_list
  permission blob_get = blob_view + blob_getter + parent->blob_get
  permission space_iam_admin = owners + space_iam_adminer + parent->space_iam_admin
  permission space_iam_edit = space_iam_admin + space_iam_editor + parent->space_iam_edit
  permission space_iam_view = space_iam_admin + space_iam_viewer + parent->space_iam_view
  permission space_iam_delete = space_iam_admin + space_iam_deleter + parent->space_iam_delete
  permission space_iam_update = space_iam_edit + space_iam_updater + parent->space_iam_update
  permission space_iam_create = space_iam_edit + space_iam_creator + parent->space_iam_create
  permission space_iam_list = space_iam_view + space_iam_lister + parent->space_iam_list
  permission space_iam_get = space_iam_view + space_iam_getter + parent->space_iam_get
  permission bubble_iam_admin = owners + bubble_iam_adminer
  permission bubble_iam_edit = bubble_iam_admin + bubble_iam_editor
  permission bubble_iam_view = bubble_iam_admin + bubble_iam_viewer
  permission bubble_iam_delete = bubble_iam_admin + bubble_iam_deleter
  permission bubble_iam_update = bubble_iam_edit + bubble_iam_updater
  permission bubble_iam_create = bubble_iam_edit + bubble_iam_creator
  permission bubble_iam_list = bubble_iam_view + bubble_iam_lister
  permission bubble_iam_get = bubble_iam_view + bubble_iam_getter
  permission group_iam_admin = owners + group_iam_adminer + parent->group_iam_admin
  permission group_iam_edit = group_iam_admin + group_iam_editor + parent->group_iam_edit
  permission group_iam_view = group_iam_admin + group_iam_viewer + parent->group_iam_view
  permission group_iam_delete = group_iam_admin + group_iam_deleter + parent->group_iam_delete
  permission group_iam_update = group_iam_edit + group_iam_updater + parent->group_iam_update
  permission group_iam_create = group_iam_edit + group_iam_creator + parent->group_iam_create
  permission group_iam_list = group_iam_view + group_iam_lister + parent->group_iam_list
  permission group_iam_get = group_iam_view + group_iam_getter + parent->group_iam_get
  permission role_iam_admin = owners + role_iam_adminer + parent->role_iam_admin
  permission role_iam_edit = role_iam_admin + role_iam_editor + parent->role_iam_edit
  permission role_iam_view = role_iam_admin + role_iam_viewer + parent->role_iam_view
  permission role_iam_delete = role_iam_admin + role_iam_deleter + parent->role_iam_delete
  permission role_iam_update = role_iam_edit + role_iam_updater + parent->role_iam_update
  permission role_iam_create = role_iam_edit + role_iam_creator + parent->role_iam_create
  permission role_iam_list = role_iam_view + role_iam_lister + parent->role_iam_list
  permission role_iam_get = role_iam_view + role_iam_getter + parent->role_iam_get
  permission record_iam_admin = owners + record_iam_adminer + parent->record_iam_admin
  permission record_iam_edit = record_iam_admin + record_iam_editor + parent->record_iam_edit
  permission record_iam_view = record_iam_admin + record_iam_viewer + parent->record_iam_view
  permission record_iam_delete = record_iam_admin + record_iam_deleter + parent->record_iam_delete
  permission record_iam_update = record_iam_edit + record_iam_updater + parent->record_iam_update
  permission record_iam_create = record_iam_edit + record_iam_creator + parent->record_iam_create
  permission record_iam_list = record_iam_view + record_iam_lister + parent->record_iam_list
  permission record_iam_get = record_iam_view + record_iam_getter + parent->record_iam_get
  permission blob_iam_admin = owners + blob_iam_adminer + parent->blob_iam_admin
  permission blob_iam_edit = blob_iam_admin + blob_iam_editor + parent->blob_iam_edit
  permission blob_iam_view = blob_iam_admin + blob_iam_viewer + parent->blob_iam_view
  permission blob_iam_delete = blob_iam_admin + blob_iam_deleter + parent->blob_iam_delete
  permission blob_iam_update = blob_iam_edit + blob_iam_updater + parent->blob_iam_update
  permission blob_iam_create = blob_iam_edit + blob_iam_creator + parent->blob_iam_create
  permission blob_iam_list = blob_iam_view + blob_iam_lister + parent->blob_iam_list
  permission blob_iam_get = blob_iam_view + blob_iam_getter + parent->blob_iam_get
}

definition bubble {
  // relations
  relation parent: space | bubble
  relation owner: acct | oauth | service | apikey | svcacct | space#member | bubble#member | group#member
  relation direct_member: acct | oauth | service | apikey | svcacct | space#member | bubble#member | group#member
  relation space_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation space_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation bubble_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation record_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids

  // permissions
  permission owners = owner + parent->owners
  permission member = owners + direct_member
  permission space_admin = owners + space_adminer
  permission space_edit = space_admin + space_editor
  permission space_view = space_admin + space_viewer
  permission space_delete = space_admin + space_deleter
  permission space_update = space_edit + space_updater
  permission space_create = space_edit + space_creator
  permission space_list = space_view + space_lister
  permission space_get = space_view + space_getter
  permission bubble_admin = owners + bubble_adminer
  permission bubble_edit = bubble_admin + bubble_editor
  permission bubble_view = bubble_admin + bubble_viewer
  permission bubble_delete = bubble_admin + bubble_deleter
  permission bubble_update = bubble_edit + bubble_updater
  permission bubble_create = bubble_edit + bubble_creator
  permission bubble_list = bubble_view + bubble_lister
  permission bubble_get = bubble_view + bubble_getter
  permission group_admin = owners + group_adminer
  permission group_edit = group_admin + group_editor
  permission group_view = group_admin + group_viewer
  permission group_delete = group_admin + group_deleter
  permission group_update = group_edit + group_updater
  permission group_create = group_edit + group_creator
  permission group_list = group_view + group_lister
  permission group_get = group_view + group_getter
  permission role_admin = owners + role_adminer
  permission role_edit = role_admin + role_editor
  permission role_view = role_admin + role_viewer
  permission role_delete = role_admin + role_deleter
  permission role_update = role_edit + role_updater
  permission role_create = role_edit + role_creator
  permission role_list = role_view + role_lister
  permission role_get = role_view + role_getter
  permission record_admin = owners + record_adminer
  permission record_edit = record_admin + record_editor
  permission record_view = record_admin + record_viewer
  permission record_delete = record_admin + record_deleter
  permission record_update = record_edit + record_updater
  permission record_create = record_edit + record_creator
  permission record_list = record_view + record_lister
  permission record_get = record_view + record_getter
  permission blob_admin = owners + blob_adminer
  permission blob_edit = blob_admin + blob_editor
  permission blob_view = blob_admin + blob_viewer
  permission blob_delete = blob_admin + blob_deleter
  permission blob_update = blob_edit + blob_updater
  permission blob_create = blob_edit + blob_creator
  permission blob_list = blob_view + blob_lister
  permission blob_get = blob_view + blob_getter
  permission space_iam_admin = owners + space_iam_adminer
  permission space_iam_edit = space_iam_admin + space_iam_editor
  permission space_iam_view = space_iam_admin + space_iam_viewer
  permission space_iam_delete = space_iam_admin + space_iam_deleter
  permission space_iam_update = space_iam_edit + space_iam_updater
  permission space_iam_create = space_iam_edit + space_iam_creator
  permission space_iam_list = space_iam_view + space_iam_lister
  permission space_iam_get = space_iam_view + space_iam_getter
  permission bubble_iam_admin = owners + bubble_iam_adminer
  permission bubble_iam_edit = bubble_iam_admin + bubble_iam_editor
  permission bubble_iam_view = bubble_iam_admin + bubble_iam_viewer
  permission bubble_iam_delete = bubble_iam_admin + bubble_iam_deleter
  permission bubble_iam_update = bubble_iam_edit + bubble_iam_updater
  permission bubble_iam_create = bubble_iam_edit + bubble_iam_creator
  permission bubble_iam_list = bubble_iam_view + bubble_iam_lister
  permission bubble_iam_get = bubble_iam_view + bubble_iam_getter
  permission group_iam_admin = owners + group_iam_adminer
  permission group_iam_edit = group_iam_admin + group_iam_editor
  permission group_iam_view = group_iam_admin + group_iam_viewer
  permission group_iam_delete = group_iam_admin + group_iam_deleter
  permission group_iam_update = group_iam_edit + group_iam_updater
  permission group_iam_create = group_iam_edit + group_iam_creator
  permission group_iam_list = group_iam_view + group_iam_lister
  permission group_iam_get = group_iam_view + group_iam_getter
  permission role_iam_admin = owners + role_iam_adminer
  permission role_iam_edit = role_iam_admin + role_iam_editor
  permission role_iam_view = role_iam_admin + role_iam_viewer
  permission role_iam_delete = role_iam_admin + role_iam_deleter
  permission role_iam_update = role_iam_edit + role_iam_updater
  permission role_iam_create = role_iam_edit + role_iam_creator
  permission role_iam_list = role_iam_view + role_iam_lister
  permission role_iam_get = role_iam_view + role_iam_getter
  permission record_iam_admin = owners + record_iam_adminer
  permission record_iam_edit = record_iam_admin + record_iam_editor
  permission record_iam_view = record_iam_admin + record_iam_viewer
  permission record_iam_delete = record_iam_admin + record_iam_deleter
  permission record_iam_update = record_iam_edit + record_iam_updater
  permission record_iam_create = record_iam_edit + record_iam_creator
  permission record_iam_list = record_iam_view + record_iam_lister
  permission record_iam_get = record_iam_view + record_iam_getter
  permission blob_iam_admin = owners + blob_iam_adminer
  permission blob_iam_edit = blob_iam_admin + blob_iam_editor
  permission blob_iam_view = blob_iam_admin + blob_iam_viewer
  permission blob_iam_delete = blob_iam_admin + blob_iam_deleter
  permission blob_iam_update = blob_iam_edit + blob_iam_updater
  permission blob_iam_create = blob_iam_edit + blob_iam_creator
  permission blob_iam_list = blob_iam_view + blob_iam_lister
  permission blob_iam_get = blob_iam_view + blob_iam_getter
}

definition group {
  // relations
  relation parent: space | bubble
  relation owner: acct | oauth | service | apikey | svcacct | space#member | bubble#member | group#member
  relation direct_member: acct | oauth | service | apikey | svcacct | space#member | bubble#member | group#member
  relation group_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation group_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids

  // permissions
  permission owners = owner + parent->owners
  permission member = owners + direct_member
  permission group_admin = owners + group_adminer + parent->group_admin
  permission group_edit = group_admin + group_editor + parent->group_edit
  permission group_view = group_admin + group_viewer + parent->group_view
  permission group_delete = group_admin + group_deleter + parent->group_delete
  permission group_update = group_edit + group_updater + parent->group_update
  permission group_create = group_edit + group_creator + parent->group_create
  permission group_list = group_view + group_lister + parent->group_list
  permission group_get = group_view + group_getter + parent->group_get
  permission group_iam_admin = owners + group_iam_adminer + parent->group_iam_admin
  permission group_iam_edit = group_iam_admin + group_iam_editor + parent->group_iam_edit
  permission group_iam_view = group_iam_admin + group_iam_viewer + parent->group_iam_view
  permission group_iam_delete = group_iam_admin + group_iam_deleter + parent->group_iam_delete
  permission group_iam_update = group_iam_edit + group_iam_updater + parent->group_iam_update
  permission group_iam_create = group_iam_edit + group_iam_creator + parent->group_iam_create
  permission group_iam_list = group_iam_view + group_iam_lister + parent->group_iam_list
  permission group_iam_get = group_iam_view + group_iam_getter + parent->group_iam_get
}

definition role {
  // relations
  relation parent: space | bubble
  relation owner: acct | oauth | service | apikey | svcacct | space#member | bubble#member | group#member
  relation direct_member: acct | oauth | service | apikey | svcacct | space#member | bubble#member | group#member
  relation role_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids
  relation role_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids

  // permissions
  permission owners = owner + parent->owners
  permission member = owners + direct_member
  permission role_admin = owners + role_adminer + parent->role_admin
  permission role_edit = role_admin + role_editor + parent->role_edit
  permission role_view = role_admin + role_viewer + parent->role_view
  permission role_delete = role_admin + role_deleter + parent->role_delete
  permission role_update = role_edit + role_updater + parent->role_update
  permission role_create = role_edit + role_creator + parent->role_create
  permission role_list = role_view + role_lister + parent->role_list
  permission role_get = role_view + role_getter + parent->role_get
  permission role_iam_admin = owners + role_iam_adminer + parent->role_iam_admin
  permission role_iam_edit = role_iam_admin + role_iam_editor + parent->role_iam_edit
  permission role_iam_view = role_iam_admin + role_iam_viewer + parent->role_iam_view
  permission role_iam_delete = role_iam_admin + role_iam_deleter + parent->role_iam_delete
  permission role_iam_update = role_iam_edit + role_iam_updater + parent->role_iam_update
  permission role_iam_create = role_iam_edit + role_iam_creator + parent->role_iam_create
  permission role_iam_list = role_iam_view + role_iam_lister + parent->role_iam_list
  permission role_iam_get = role_iam_view + role_iam_getter + parent->role_iam_get
}

definition record {
  // relations
  relation parent: space | bubble
  relation owner: acct | oauth | service | apikey | svcacct | space#member | bubble#member | group#member | record#member
  relation direct_member: acct | oauth | service | apikey | svcacct | space#member | bubble#member | group#member | record#member
  relation record_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation record_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids

  // permissions
  permission owners = owner + parent->owners
  permission member = owners + direct_member
  permission record_admin = owners + record_adminer + parent->record_admin
  permission record_edit = record_admin + record_editor + parent->record_edit
  permission record_view = record_admin + record_viewer + parent->record_view
  permission record_delete = record_admin + record_deleter + parent->record_delete
  permission record_update = record_edit + record_updater + parent->record_update
  permission record_create = record_edit + record_creator + parent->record_create
  permission record_list = record_view + record_lister + parent->record_list
  permission record_get = record_view + record_getter + parent->record_get
  permission record_iam_admin = owners + record_iam_adminer + parent->record_iam_admin
  permission record_iam_edit = record_iam_admin + record_iam_editor + parent->record_iam_edit
  permission record_iam_view = record_iam_admin + record_iam_viewer + parent->record_iam_view
  permission record_iam_delete = record_iam_admin + record_iam_deleter + parent->record_iam_delete
  permission record_iam_update = record_iam_edit + record_iam_updater + parent->record_iam_update
  permission record_iam_create = record_iam_edit + record_iam_creator + parent->record_iam_create
  permission record_iam_list = record_iam_view + record_iam_lister + parent->record_iam_list
  permission record_iam_get = record_iam_view + record_iam_getter + parent->record_iam_get
}

definition blob {
  // relations
  relation parent: space | bubble
  relation owner: acct | oauth | service | apikey | svcacct | space#member | bubble#member | group#member | record#member
  relation direct_member: acct | oauth | service | apikey | svcacct | space#member | bubble#member | group#member | record#member
  relation blob_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_creator: superuser | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_viewer: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_lister: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_getter: superuser | anon:* | anon:* with nsids | acct:* | acct:* with nsids | oauth:* | oauth:* with nsids | service:* | service:* with nsids | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_adminer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_editor: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_deleter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_updater: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_creator: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_viewer: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_lister: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids
  relation blob_iam_getter: superuser | acct | acct with nsids | oauth | oauth with nsids | service | service with nsids | apikey | apikey with nsids | svcacct | svcacct with nsids | space#member | space#member with nsids | bubble#member | bubble#member with nsids | group#member | group#member with nsids | role#member | role#member with nsids | record#member | record#member with nsids

  // permissions
  permission owners = owner + parent->owners
  permission member = owners + direct_member
  permission blob_admin = owners + blob_adminer + parent->blob_admin
  permission blob_edit = blob_admin + blob_editor + parent->blob_edit
  permission blob_view = blob_admin + blob_viewer + parent->blob_view
  permission blob_delete = blob_admin + blob_deleter + parent->blob_delete
  permission blob_update = blob_edit + blob_updater + parent->blob_update
  permission blob_create = blob_edit + blob_creator + parent->blob_create
  permission blob_list = blob_view + blob_lister + parent->blob_list
  permission blob_get = blob_view + blob_getter + parent->blob_get
  permission blob_iam_admin = owners + blob_iam_adminer + parent->blob_iam_admin
  permission blob_iam_edit = blob_iam_admin + blob_iam_editor + parent->blob_iam_edit
  permission blob_iam_view = blob_iam_admin + blob_iam_viewer + parent->blob_iam_view
  permission blob_iam_delete = blob_iam_admin + blob_iam_deleter + parent->blob_iam_delete
  permission blob_iam_update = blob_iam_edit + blob_iam_updater + parent->blob_iam_update
  permission blob_iam_create = blob_iam_edit + blob_iam_creator + parent->blob_iam_create
  permission blob_iam_list = blob_iam_view + blob_iam_lister + parent->blob_iam_list
  permission blob_iam_get = blob_iam_view + blob_iam_getter + parent->blob_iam_get
}
`;
