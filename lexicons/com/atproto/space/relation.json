{
    "lexicon": 1,
    "id": "com.atproto.space.relation",
    "description": "A relation tuple [resource, relation, subject]. Subject is acct:<did> whereas the others depend ... Subjects will eventually expand as well Requires auth, implemented by PDS.",
    "defs": {
        "main": {
            "type": "record",
            "description": "A relation tuple [resource, relation, subject]. Subject is acct:<did> whereas the others depend ... Subjects will eventually expand as well",
            "key": "any",
            "record": {
                "type": "object",
                "properties": {
                    "subjectType": {
                        "type": "string",
                        "description": "the subject type [user,group,etc]"
                    },
                    "subject": {
                        "type": "string",
                        "description": "the subject id to grant",
                        "maxLength": 640
                    },
                    "permission": {
                        "type": "string",
                        "description": "possible values are defined in the spicedb schema and depend on context",
                        "maxLength": 32
                    },
                    "resourceType": {
                        "type": "string",
                        "description": "The resource type [space,record,etc]"
                    },
                    "resource": {
                        "type": "string",
                        "description": "The object id to assign.",
                        "maxLength": 656
                    },
                    "caveats": {
                        "type": "string",
                        "description": "nsids: { allowed: map<bool>, default bool, nsid string }"
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "datetime"
                    }
                }
            }
        }
    }
}
